## 콜백
- 함수가 수신하는 인자가 함수인 경우
- 함수가 다른 함수의 인자로 사용됨으로써 그 함수의 내용을 완전히 바꿀 수 있는 것
- 함수의 기본동작방법에 값을 줌으로써 함수를 변경해 사용할 수 있음<br/>즉, javascript의 함수가 값이기 때문에 가능한 일

#### 용어정리
- 객체 : 함수 앞에있는 것 `ex) 객체.함수();`
- 내장함수(객체) : javascript 안에 미리 내장되어있는 함수 (비동기)
- 사용자지정함수(객체) : 자신이 직접 만든 함수
- 메소드 : 객체.함수(); 의 함수는 객체에 속한 함수이므로 메소드

#### 처리의 위임
- 내장함수 __sort()__ 로 알아보는 콜백 사례
```
var numbers = [20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1];

console.log(numbers.sort());
```
- 결과
```
[1, 10, 2, 20, 3, 4, 5, 6, 7, 8, 9]
```
> 문자순으로 정렬됨

- 콜백을 사용해 원하는 방식으로 정렬하기
- 예제에서는 __sortfunc이 콜백__ 역할
```
var numbers = [20,10,9,8,7,6,5,4,3,2,1];
var sortfunc = function(a, b){
  console.log(a, b);
}

console.log(numbers.sort(sortfunc));
```
> number 안에 있는 각각의 숫자들을 번갈아서 두개씩 비교하며 출력

```
var numbers = [20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1];
var sortfunc = function(a, b){
  if (a > b){
    return 1;
  } else if (a < b){
    return -1;
  } else {
    return 0;
  }
}
console.log(numbers.sort(sortfunc)); 
```
- 결과
```
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 20]
```
> 리턴값을 어떤것으로 하느냐에 따라 비교하고있는 대상을 판별해 그 기준에따라 정렬한 값을 알려줌. 그 기준은 리턴값을 양수, 음수, 0 으로 정함

- 위에 예제를 정리
```
var numbers = [20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1];
var sortfunc = function(a, b){
  return a - b; 
  // return b - a;
}

console.log(numbers.sort(sortfunc)); 
```
> a - b : 오름순(1\~20) / b - a; : 내림순(20\~1) 으로 정렬 됨

- 위 과정을 프로그래밍의 정렬 알고리즘으로 설명
```
(a,b) 형식으로 지정한 두 인자를 차례로 비교하게 됨
먼저, 배열 numbers[0]과 numbers[1] 즉, 20과 10을 비교해본다면
20 - 10 = 10 으로 결과값이 양수가 됨
sort함수에 sortNumber(a,b)의 return 값으로 양수 10을 전달
sort함수가 양수값을 전달받고 배열의 순서를 바꿈 (두 배열 안에 든 값을 교체)
그럼 배열은 [(10), (20), 9, 8, 7, 6, 5, 4, 3, 2, 1] 이렇게 바뀜
다음 numbers[0]과 numbers[2] 즉, 10과 9를 비교 10 - 9 = 1, 양수가 되어 또 10과 9의 순서를 바꿈
이런 식으로 계속 두 인자를 비교해서 결과값이 양수가 나오면 순서를 바꾸고, 음수가 나오면 순서를 그대로 유지시킴
배열이 바뀌어가는 순서를 보면
[(20), (10), 9, 8, 7, 6, 5, 4, 3, 2, 1] 20-10 = 10, 양수 → 순서바뀜
[(10), 20, (9), 8, 7, 6, 5, 4, 3, 2, 1] 10 - 9 = 1, 양수 → 순서바뀜
[(9), 20, 10, (8), 7, ... 1] 반복
[(8), 20, 10, 9, (7), ... 1] 
...
[(2). 20, 10...3, (1)]
[(1), 20, 10...]
그럼 배열 내에서 가장 작은 값 1이 찾아짐
[(1), 20, 10, 9, 8, 7, 6, 5, 4, 3, 2]
1의 순서는 바뀌지 않음
1 - 2 = -1 결과값이 음수이기 때문

그 다음은 두번째 배열 차례로 20 - 10 = 10, 양수이므로 순서를 또 바꿈
[1, (20), (10), 9, 8, 7, 6, 5, 4, 3, 2]
[1, (10), 20, (9), 8 ... 2]
[1, (9), 20, 10, (8) ... 2]
이런 식으로 반복하다 보면 두번째로 작은 값 2도 찾게 됨
[1, (2), 20, 10, 9, 8, 7, 6, 5, 4, 3]

다음은 세번째 배열 차례 이런식으로 반복해 정렬이 됨
물론 실제 디버깅을 해보면 자바스크립트에서는 비교하는 순서가 다름
실제로는 [20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
배열의 양쪽 끝부터 비교하고 (20, 1) 
그 다음 배열의 가운데 값을 차례로 비교해 나감 (1,6)
```

## 비동기(Asynchronous) 처리
- 동기적처리 : 순서대로 실행. alert처럼 다음 작업이 완료되기전까지 다른 작업못함
- 비동기적처리 : 나중에 처리하기위해 내부적으로 백그라운드에서 실행해두는 것. 실행되는동안 다른작업이 가능
	- 요청에 처리 완료와 관계없이 응답함. 이후 운영체제에서 응답할 준비가 되면 응답

### 비동기 콜백과 Ajax
- 콜백은 비동기처리에서도 유용하게 사용<br />오래걸리는 작업일 경우 작업이 완료된 후에 처리해야 할 일을 콜백으로 지정하면 해당 작업이 끝났을 때 미리 등록한 작업을 실행하도록 할 수 있음

datasource.json.js
```
{"title":"JavaScript","author":"egoing"}
```
> 서버환경에서만 동작

demo1.html
```
<!DOCTYPE html>
<html>
<head>
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
</head>
<body>
	<script type="text/javascript">
		$.get('./datasource.json.js', function(result){
			console.log(result);
		}, 'json');
	</script>
</body>
</html>
```
> datasource.json.js에서 처럼 원하는 곳에서 함수를 객체로 만들어서 console.log(result);의 result라는 함수의 매개변수 값으로 전달<br />result에 {"title":"JavaScript","author":"egoing"}가 전달되고, 콜백으로 .get 동작을 원하는 작업으로 제어함
>
